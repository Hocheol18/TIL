<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    // 단축 속성
    const name = 'Alice'
    const age = 30

    const user1 = {
      name: name,
      age: age,
    }

    const name2 = {
      name,
      age,
    }

    // 단축 메서드
    const myObj1 = {
      myFunc: function () {
        return 'Hello'
      }
    }

    const myObj2 = {
      myFunc() {
        return 'Hello'
      }
    }

    // 계산된 프로퍼티
    // 키가 대괄호 안에 둘려싸여 있는 속성
    // 고정된 값이 아닌 변수 값을 사용할 수 있음.
    const product = prompt('물건 이름을 입력해주세요')
    const prefix = 'my'
    const suffix = 'property'

    const bag = {
      [product]: 5,
      [prefix + suffix]: 'value',
    }

    console.log(bag) // {연필: 5, myproperty: 'value'}


    // 구조 분해 할당
    // 배열, 객체를 분해하여 속성을 변수에 쉽게 할당할 수 있음.
    const userInfo = {
      firstName: 'Alice',
      userId: 'alice123',
      email: 'alice123@gmail.com'
    }

    // const firstName = userInfo.name
    // const userId = userInfo.userId
    // const email = userInfo.email
    // 위 세 문장을 하나로 만들 때
    // const { firstName, userId, email } = userInfo

    const { firstName } = userInfo
    // const { firstName, userId } = userInfo
    // const { firstName, userId, email } = userInfo

    // Alice alice123 alice123@gmail.com
    console.log(firstName, userId, email)

    // 구조 분해 할당 활용 - 함수 매개변수
    function printInfo({ name, age, city }) {
      console.log(`이름: ${name}, 나이: ${age}, 도시: ${city}`)
    }

    const person = {
      name: 'Bob',
      age: 35,
      city: 'London',
    }

    // 함수 호출 시 객체를 구조 분해하여 함수의 매개변수로 전달
    printInfo(person) // '이름: Bob, 나이: 35, 도시: London'

    // with 전개 구문
    // 객체 복사 가능(객체 내부에서 객체 전개)
    // 얕은 복사에 활용 가능
    const obj = { b: 2, c: 3, d: 4 }
    const newObj = { a: 1, ...obj, e: 5 }
    console.log(newObj) // {a: 1, b: 2, c: 3, d: 4, e: 5}

    // 유용한 객체 메서드
    const profile = {
      name: 'Alice',
      age: 30,
    }

    console.log(Object.keys(profile)) // ['name', 'age']
    console.log(Object.values(profile)) // ['Alice', 30]


    // 속성이 없는 중첩 객체를 에러 없이 접근 가능
    // 만약 참조 대상이 null 또는 undefined라면 에러가 발생하는 것 대신 평가를 멈추고 undefined 반환
    // 참조가 누락될 가능성이 있는 경우, 연결된 속성으로 접근할 때 더 짧고 간단한 표현식 작성 가능
    // 어떤 속성이 필요한지에 대한 보증이 확실하지 않을 때 객체의 내용을 보다 편리하게 탐색 가능
    
    console.log(profile.address.street) // Uncaught TypeError
    console.log(profile.address?.street) // undefined

  </script>
</body>

</html>
